---
// EmailCapture — weekly dispatch signup
// To connect to a real provider, replace the form action URL with:
//   Buttondown:  https://buttondown.email/api/emails/embed-subscribe/YOUR_USERNAME
//   Mailchimp:   (use Mailchimp's embedded form action URL)
//   ConvertKit:  (use ConvertKit's form action URL)
---

<div class="email-capture">
  <div class="email-capture-inner">
    <div class="email-left">
      <p class="email-kicker t-mono t-upper">The Material Record</p>
      <h2 class="email-headline">One historical fashion story, every Friday.</h2>
      <p class="email-body">
        A single era. A single material. A documented account of how cloth
        shaped civilisation — delivered to your inbox weekly. No algorithm.
        No noise.
      </p>
    </div>
    <form
      class="email-form"
      action="https://buttondown.email/api/emails/embed-subscribe/material-record"
      method="post"
      target="_blank"
      id="email-capture-form"
    >
      <input type="hidden" name="embed" value="1" />
      <div class="email-input-row">
        <label for="email-field" class="sr-only">Email address</label>
        <input
          id="email-field"
          class="email-input t-mono"
          type="email"
          name="email"
          required
          autocomplete="email"
          placeholder="your@address.com"
        />
        <button class="email-submit t-mono t-upper" type="submit">
          Subscribe &rarr;
        </button>
      </div>
      <p class="email-disclaimer t-mono">
        No spam. Unsubscribe at any time. Archive access included.
      </p>
    </form>
  </div>
</div>

<style>
  .email-capture {
    border-top: 2px solid var(--ink);
    border-bottom: 1px solid var(--rule);
    padding: 3rem 0;
    margin: 3rem 0;
  }

  .email-capture-inner {
    display: grid;
    grid-template-columns: 1fr 1fr;
    column-gap: 4rem;
    align-items: center;
  }

  .email-kicker {
    font-size: 0.55rem;
    letter-spacing: 0.18em;
    color: var(--muted);
    margin-bottom: 0.5rem;
  }

  .email-headline {
    font-family: var(--font-serif);
    font-size: clamp(1.5rem, 2.5vw, 2.25rem);
    font-weight: 700;
    line-height: 1.2;
    color: var(--ink);
    margin-bottom: 0.75rem;
  }

  .email-body {
    font-size: 0.9rem;
    line-height: 1.7;
    color: var(--sepia);
    max-width: 48ch;
  }

  .email-form {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }

  .email-input-row {
    display: flex;
    gap: 0;
    border: 1.5px solid var(--ink);
  }

  .email-input {
    flex: 1;
    background: transparent;
    border: none;
    padding: 0.75rem 1rem;
    font-size: 0.75rem;
    letter-spacing: 0.04em;
    color: var(--ink);
    outline: none;
    font-family: var(--font-mono);
  }

  .email-input::placeholder { color: var(--muted); }

  .email-input:focus {
    background: rgba(196, 174, 133, 0.12);
  }

  .email-submit {
    background: var(--ink);
    color: var(--parchment);
    border: none;
    padding: 0.75rem 1.25rem;
    font-size: 0.6rem;
    letter-spacing: 0.14em;
    cursor: pointer;
    white-space: nowrap;
    font-family: var(--font-mono);
    transition: background 160ms ease;
  }

  .email-submit:hover { background: var(--crimson); }

  .email-disclaimer {
    font-size: 0.55rem;
    color: var(--muted);
    letter-spacing: 0.06em;
  }

  /* Accessibility helper */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }

  @media (max-width: 900px) {
    .email-capture-inner {
      grid-template-columns: 1fr;
      gap: 2rem;
    }
  }
</style>
